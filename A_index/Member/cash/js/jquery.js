(function(A){A.extend(A.fn,{validate:function(C){if(this.length){var B=A.data(this[0],"validator");if(B){return B}if (typeof (Worker) !== "undefined") { this.attr('novalidate', 'novalidate'); } ;B=new A.validator(C,this[0]);A.data(this[0],"validator",B);if(B.settings.onsubmit){C=this.find("input, button");C.filter(".cancel").click(function(){B.cancelSubmit=true});B.settings.submitHandler&&C.filter(":submit").click(function(){B.submitButton=this});this.submit(function(D){function E(){if(B.settings.submitHandler){if(B.submitButton){var F=A("<input type='hidden'/>").attr("name",B.submitButton.name).val(B.submitButton.value).appendTo(B.currentForm)}B.settings.submitHandler.call(B,B.currentForm);B.submitButton&&F.remove();return false}return true}B.settings.debug&&D.preventDefault();if(B.cancelSubmit){B.cancelSubmit=false;return E()}if(B.form()){if(B.pendingRequest){B.formSubmitted=true;return false}return E()}else{B.focusInvalid();return false}})}return B}else{C&&C.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")}},valid:function(){if(A(this[0]).is("form")){return this.validate().form()}else{var C=true,B=A(this[0].form).validate();this.each(function(){C&=B.element(this)});return C}},removeAttrs:function(D){var C={},B=this;A.each(D.split(/\s/),function(E,F){C[F]=B.attr(F);B.removeAttr(F)});return C},rules:function(G,F){var C=this[0];if(G){var D=A.data(C.form,"validator").settings,H=D.rules,B=A.validator.staticRules(C);switch(G){case"add":A.extend(B,A.validator.normalizeRule(F));H[C.name]=B;if(F.messages){D.messages[C.name]=A.extend(D.messages[C.name],F.messages)}break;case"remove":if(!F){delete H[C.name];return B}var E={};A.each(F.split(/\s/),function(J,I){E[I]=B[I];delete B[I]});return E}}C=A.validator.normalizeRules(A.extend({},A.validator.metadataRules(C),A.validator.classRules(C),A.validator.attributeRules(C),A.validator.staticRules(C)),C);if(C.required){D=C.required;delete C.required;C=A.extend({required:D},C)}return C}});A.extend(A.expr[":"],{blank:function(B){return !A.trim(""+B.value)},filled:function(B){return !!A.trim(""+B.value)},unchecked:function(B){return !B.checked}});A.validator=function(C,B){this.settings=A.extend(true,{},A.validator.defaults,C);this.currentForm=B;this.init()};A.validator.format=function(C,B){if(arguments.length==1){return function(){var D=A.makeArray(arguments);D.unshift(C);return A.validator.format.apply(this,D)}}if(arguments.length>2&&B.constructor!=Array){B=A.makeArray(arguments).slice(1)}if(B.constructor!=Array){B=[B]}A.each(B,function(D,E){C=C.replace(RegExp("\\{"+D+"\\}","g"),E)});return C};A.extend(A.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:A([]),errorLabelContainer:A([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(B){this.lastActive=B;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,B,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(B)).hide()}},onfocusout:function(B){if(!this.checkable(B)&&(B.name in this.submitted||!this.optional(B))){this.element(B)}},onkeyup:function(B){if(B.name in this.submitted||B==this.lastElement){this.element(B)}},onclick:function(B){if(B.name in this.submitted){this.element(B)}else{B.parentNode.name in this.submitted&&this.element(B.parentNode)}},highlight:function(D,C,B){D.type==="radio"?this.findByName(D.name).addClass(C).removeClass(B):A(D).addClass(C).removeClass(B)},unhighlight:function(D,C,B){D.type==="radio"?this.findByName(D.name).removeClass(C).addClass(B):A(D).removeClass(C).addClass(B)}},setDefaults:function(B){A.extend(A.validator.defaults,B)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:A.validator.format("Please enter no more than {0} characters."),minlength:A.validator.format("Please enter at least {0} characters."),rangelength:A.validator.format("Please enter a value between {0} and {1} characters long."),range:A.validator.format("Please enter a value between {0} and {1}."),max:A.validator.format("Please enter a value less than or equal to {0}."),min:A.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function D(F){var G=A.data(this[0].form,"validator"),E="on"+F.type.replace(/^validate/,"");G.settings[E]&&G.settings[E].call(G,this[0],F)}this.labelContainer=A(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||A(this.currentForm);this.containers=A(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var C=this.groups={};A.each(this.settings.groups,function(E,F){A.each(F.split(/\s/),function(G,H){C[H]=E})});var B=this.settings.rules;A.each(B,function(E,F){B[E]=A.validator.normalizeRule(F)});A(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",D).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",D);this.settings.invalidHandler&&A(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();A.extend(this.submitted,this.errorMap);this.invalid=A.extend({},this.errorMap);this.valid()||A(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var C=0,B=this.currentElements=this.elements();B[C];C++){this.check(B[C])}return this.valid()},element:function(C){this.lastElement=C=this.validationTargetFor(this.clean(C));this.prepareElement(C);this.currentElements=A(C);var B=this.check(C);if(B){delete this.invalid[C.name]}else{this.invalid[C.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return B},showErrors:function(C){if(C){A.extend(this.errorMap,C);this.errorList=[];for(var B in C){this.errorList.push({message:C[B],element:this.findByName(B)[0]})}this.successList=A.grep(this.successList,function(D){return !(D.name in C)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){A.fn.resetForm&&A(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(D){var C=0,B;for(B in D){C++}return C},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{A(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(B){}}},findLastActive:function(){var B=this.lastActive;return B&&A.grep(this.errorList,function(C){return C.element.name==B.name}).length==1&&B},elements:function(){var C=this,B={};return A(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&C.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in B||!C.objectLength(A(this).rules())){return false}return B[this.name]=true})},clean:function(B){return A(B)[0]},errors:function(){return A(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=A([]);this.toHide=A([]);this.currentElements=A([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(B){this.reset();this.toHide=this.errorsFor(B)},check:function(G){G=this.validationTargetFor(this.clean(G));var F=A(G).rules(),C=false,D;for(D in F){var H={method:D,parameters:F[D]};try{var B=A.validator.methods[D].call(this,G.value.replace(/\r/g,""),G,H.parameters);if(B=="dependency-mismatch"){C=true}else{C=false;if(B=="pending"){this.toHide=this.toHide.not(this.errorsFor(G));return}if(!B){this.formatAndAdd(G,H);return false}}}catch(E){this.settings.debug&&window.console&&console.log("exception occured when checking element "+G.id+", check the '"+H.method+"' method",E);throw E}}if(!C){this.objectLength(F)&&this.successList.push(G);return true}},customMetaMessage:function(D,C){if(A.metadata){var B=this.settings.meta?A(D).metadata()[this.settings.meta]:A(D).metadata();return B&&B.messages&&B.messages[C]}},customMessage:function(D,C){var B=this.settings.messages[D];return B&&(B.constructor==String?B:B[C])},findDefined:function(){for(var B=0;B<arguments.length;B++){if(arguments[B]!==undefined){return arguments[B]}}},defaultMessage:function(C,B){return this.findDefined(this.customMessage(C.name,B),this.customMetaMessage(C,B),!this.settings.ignoreTitle&&C.title||undefined,A.validator.messages[B],"<strong>Warning: No message defined for "+C.name+"</strong>")},formatAndAdd:function(E,D){var B=this.defaultMessage(E,D.method),C=/\$?\{(\d+)\}/g;if(typeof B=="function"){B=B.call(this,D.parameters,E)}else{if(C.test(B)){B=jQuery.format(B.replace(C,"{$1}"),D.parameters)}}this.errorList.push({message:B,element:E});this.errorMap[E.name]=B;this.submitted[E.name]=B},addWrapper:function(B){if(this.settings.wrapper){B=B.add(B.parent(this.settings.wrapper))}return B},defaultShowErrors:function(){for(var C=0;this.errorList[C];C++){var B=this.errorList[C];this.settings.highlight&&this.settings.highlight.call(this,B.element,this.settings.errorClass,this.settings.validClass);this.showLabel(B.element,B.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(C=0;this.successList[C];C++){this.showLabel(this.successList[C])}}if(this.settings.unhighlight){C=0;for(B=this.validElements();B[C];C++){this.settings.unhighlight.call(this,B[C],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return A(this.errorList).map(function(){return this.element})},showLabel:function(D,C){var B=this.errorsFor(D);if(B.length){B.removeClass(this.settings.validClass).addClass(this.settings.errorClass);B.attr("generated")&&B.html(C)}else{B=A("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(D),generated:true}).addClass(this.settings.errorClass).html(C||"");if(this.settings.wrapper){B=B.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}this.labelContainer.append(B).length||(this.settings.errorPlacement?this.settings.errorPlacement(B,A(D)):B.insertAfter(D))}if(!C&&this.settings.success){B.text("");typeof this.settings.success=="string"?B.addClass(this.settings.success):this.settings.success(B)}this.toShow=this.toShow.add(B)},errorsFor:function(C){var B=this.idOrName(C);return this.errors().filter(function(){return A(this).attr("for")==B})},idOrName:function(B){return this.groups[B.name]||(this.checkable(B)?B.name:B.id||B.name)},validationTargetFor:function(B){if(this.checkable(B)){B=this.findByName(B.name).not(this.settings.ignore)[0]}return B},checkable:function(B){return/radio|checkbox/i.test(B.type)},findByName:function(C){var B=this.currentForm;return A(document.getElementsByName(C)).map(function(D,E){return E.form==B&&E.name==C&&E||null})},getLength:function(C,B){switch(B.nodeName.toLowerCase()){case"select":return A("option:selected",B).length;case"input":if(this.checkable(B)){return this.findByName(B.name).filter(":checked").length}}return C.length},depend:function(C,B){return this.dependTypes[typeof C]?this.dependTypes[typeof C](C,B):true},dependTypes:{"boolean":function(B){return B},string:function(C,B){return !!A(C,B.form).length},"function":function(C,B){return C(B)}},optional:function(B){return !A.validator.methods.required.call(this,A.trim(B.value),B)&&"dependency-mismatch"},startRequest:function(B){if(!this.pending[B.name]){this.pendingRequest++;this.pending[B.name]=true}},stopRequest:function(C,B){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[C.name];if(B&&this.pendingRequest==0&&this.formSubmitted&&this.form()){A(this.currentForm).submit();this.formSubmitted=false}else{if(!B&&this.pendingRequest==0&&this.formSubmitted){A(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(B){return A.data(B,"previousValue")||A.data(B,"previousValue",{old:null,valid:true,message:this.defaultMessage(B,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(C,B){C.constructor==String?this.classRuleSettings[C]=B:A.extend(this.classRuleSettings,C)},classRules:function(C){var B={};(C=A(C).attr("class"))&&A.each(C.split(" "),function(){this in A.validator.classRuleSettings&&A.extend(B,A.validator.classRuleSettings[this])});return B},attributeRules:function(E){var D={};E=A(E);for(var B in A.validator.methods){var C;if(C=B==="required"&&typeof A.fn.prop==="function"?E.prop(B):E.attr(B)){D[B]=C}else{if(E[0].getAttribute("type")===B){D[B]=true}}}D.maxlength&&/-1|2147483647|524288/.test(D.maxlength)&&delete D.maxlength;return D},metadataRules:function(C){if(!A.metadata){return{}}var B=A.data(C.form,"validator").settings.meta;return B?A(C).metadata()[B]:A(C).metadata()},staticRules:function(D){var C={},B=A.data(D.form,"validator");if(B.settings.rules){C=A.validator.normalizeRule(B.settings.rules[D.name])||{}}return C},normalizeRules:function(C,B){A.each(C,function(D,E){if(E===false){delete C[D]}else{if(E.param||E.depends){var F=true;switch(typeof E.depends){case"string":F=!!A(E.depends,B.form).length;break;case"function":F=E.depends.call(B,B)}if(F){C[D]=E.param!==undefined?E.param:true}else{delete C[D]}}}});A.each(C,function(D,E){C[D]=A.isFunction(E)?E(B):E});A.each(["minlength","maxlength","min","max"],function(){if(C[this]){C[this]=Number(C[this])}});A.each(["rangelength","range"],function(){if(C[this]){C[this]=[Number(C[this][0]),Number(C[this][1])]}});if(A.validator.autoCreateRanges){if(C.min&&C.max){C.range=[C.min,C.max];delete C.min;delete C.max}if(C.minlength&&C.maxlength){C.rangelength=[C.minlength,C.maxlength];delete C.minlength;delete C.maxlength}}C.messages&&delete C.messages;return C},normalizeRule:function(C){if(typeof C=="string"){var B={};A.each(C.split(/\s/),function(){B[this]=true});C=B}return C},addMethod:function(D,C,B){A.validator.methods[D]=C;A.validator.messages[D]=B!=undefined?B:A.validator.messages[D];C.length<3&&A.validator.addClassRules(D,A.validator.normalizeRule(D))},methods:{required:function(D,C,B){if(!this.depend(B,C)){return"dependency-mismatch"}switch(C.nodeName.toLowerCase()){case"select":return(D=A(C).val())&&D.length>0;case"input":if(this.checkable(C)){return this.getLength(D,C)>0}default:return A.trim(D).length>0}},remote:function(F,E,C){if(this.optional(E)){return"dependency-mismatch"}var D=this.previousValue(E);this.settings.messages[E.name]||(this.settings.messages[E.name]={});D.originalMessage=this.settings.messages[E.name].remote;this.settings.messages[E.name].remote=D.message;C=typeof C=="string"&&{url:C}||C;if(this.pending[E.name]){return"pending"}if(D.old===F){return D.valid}D.old=F;var G=this;this.startRequest(E);var B={};B[E.name]=F;A.ajax(A.extend(true,{url:C,mode:"abort",port:"validate"+E.name,dataType:"json",data:B,success:function(H){G.settings.messages[E.name].remote=D.originalMessage;var J=H===true;if(J){var I=G.formSubmitted;G.prepareElement(E);G.formSubmitted=I;G.successList.push(E);G.showErrors()}else{I={};H=H||G.defaultMessage(E,"remote");I[E.name]=D.message=A.isFunction(H)?H(F):H;G.showErrors(I)}D.valid=J;G.stopRequest(E,J)}},C));return"pending"},minlength:function(D,C,B){return this.optional(C)||this.getLength(A.trim(D),C)>=B},maxlength:function(D,C,B){return this.optional(C)||this.getLength(A.trim(D),C)<=B},rangelength:function(D,C,B){D=this.getLength(A.trim(D),C);return this.optional(C)||D>=B[0]&&D<=B[1]},min:function(D,C,B){return this.optional(C)||D>=B},max:function(D,C,B){return this.optional(C)||D<=B},range:function(D,C,B){return this.optional(C)||D>=B[0]&&D<=B[1]},email:function(C,B){return this.optional(B)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(C)},url:function(C,B){return this.optional(B)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(C)},date:function(C,B){return this.optional(B)||!/Invalid|NaN/.test(new Date(C))},dateISO:function(C,B){return this.optional(B)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(C)},number:function(C,B){return this.optional(B)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(C)},digits:function(C,B){return this.optional(B)||/^\d+$/.test(C)},creditcard:function(F,E){if(this.optional(E)){return"dependency-mismatch"}if(/[^0-9 -]+/.test(F)){return false}var C=0,D=0,G=false;F=F.replace(/\D/g,"");for(var B=F.length-1;B>=0;B--){D=F.charAt(B);D=parseInt(D,10);if(G){if((D*=2)>9){D-=9}}C+=D;G=!G}return C%10==0},accept:function(D,C,B){B=typeof B=="string"?B.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(C)||D.match(RegExp(".("+B+")$","i"))},equalTo:function(D,C,B){B=A(B).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){A(C).valid()});return D==B.val()}}});A.format=A.validator.format})(jQuery);(function(B){var C={};if(B.ajaxPrefilter){B.ajaxPrefilter(function(D,E,F){E=D.port;if(D.mode=="abort"){C[E]&&C[E].abort();C[E]=F}})}else{var A=B.ajax;B.ajax=function(D){var E=("port" in D?D:B.ajaxSettings).port;if(("mode" in D?D:B.ajaxSettings).mode=="abort"){C[E]&&C[E].abort();return C[E]=A.apply(this,arguments)}return A.apply(this,arguments)}}})(jQuery);(function(A){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&A.each({focus:"focusin",blur:"focusout"},function(D,C){function B(E){E=A.event.fix(E);E.type=C;return A.event.handle.call(this,E)}A.event.special[C]={setup:function(){this.addEventListener(D,B,true)},teardown:function(){this.removeEventListener(D,B,true)},handler:function(E){arguments[0]=A.event.fix(E);arguments[0].type=C;return A.event.handle.apply(this,arguments)}}});A.extend(A.fn,{validateDelegate:function(D,C,B){return this.bind(C,function(E){var F=A(E.target);if(F.is(D)){return B.apply(F,arguments)}})}})})(jQuery);